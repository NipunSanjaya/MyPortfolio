<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Item Manage</title>-->
<!--    <meta content="width=device-width initial-scale=1" name="viewport">-->
<!--    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link href="../assets/css/styles.css" rel="stylesheet">-->
<!--    <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"-->
<!--          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" rel="stylesheet">-->
<!--    <style>-->
<!--        ul > li {-->
<!--            cursor: pointer;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash;header&ndash;&gt;-->
<!--<header class="jumbotron bg-primary text-white p-3">-->
<!--    <h1 class="position-absolute" id="nav"></h1>-->
<!--    <ul class="list-group list-group-horizontal text-danger justify-content-end font-weight-bold">-->
<!--        <li class="list-group-item bg-white" id="lnkHome"><a href="../index.html">Home</a></li>-->
<!--        <li class="list-group-item bg-white" id="lnkCustomer"><a href="customer.html">Customer</a></li>-->
<!--        <li class="list-group-item bg-danger text-white" id="lnkItem"><a class="text-white" href="item.html">Item</a></li>-->
<!--        <li class="list-group-item bg-white" id="lnkOrders"><a href="purchase-order.html">Orders</a></li>-->
<!--    </ul>-->
<!--</header>-->

<!--&lt;!&ndash;item content&ndash;&gt;-->
<!--<main class="container-fluid" id="itemContent">-->
<!--    <section class="row">-->
<!--        <div class="col-12 col-lg-4">-->
<!--            <h1>Item Form</h1>-->

<!--            <div class="form-group">-->
<!--                <label for="itemCode">Item Code</label>-->
<!--                <input class="form-control" id="itemCode" type="text">-->
<!--                <span class="control-error" id="lblCode"></span>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="itemName">Item Name</label>-->
<!--                <input class="form-control" id="itemName" type="text">-->
<!--                <span class="control-error" id="lblname"></span>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="itemQty">Item Qty</label>-->
<!--                <input class="form-control" id="itemQty" type="text">-->
<!--                <span class="control-error" id="lblqty"></span>-->
<!--            </div>-->
<!--            <div class="form-group">-->
<!--                <label for="itemPrice">Unit Price</label>-->
<!--                <input class="form-control" id="itemPrice" type="text">-->
<!--                <span class="control-error" id="lblprice"></span>-->
<!--            </div>-->
<!--            <div class="btn-group">-->
<!--                <button class="btn btn-primary" id="btnItem">Add Item</button>-->
<!--                <button class="btn btn-danger" id="btnItemDelete">Remove</button>-->
<!--                <button class="btn btn-warning" id="btnItemUpdate">Update</button>-->
<!--                <button class="btn btn-success">Get All</button>-->
<!--                <button class="btn btn-danger" id="btn-clear">Clear All</button>-->
<!--            </div>-->

<!--        </div>-->
<!--        <div class="col-12 col-lg-8 mt-3">-->
<!--            <table class="table table-bordered table-hover">-->
<!--                <thead class="bg-danger text-white">-->
<!--                <tr>-->
<!--                    <th>Item Code</th>-->
<!--                    <th>Item Name</th>-->
<!--                    <th>Item Qty</th>-->
<!--                    <th>Item Price</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody id="tblItem">-->

<!--                </tbody>-->
<!--            </table>-->
<!--        </div>-->
<!--    </section>-->

<!--</main>-->
<!--<script src="../assets/js/jquery-3.7.0.min.js"></script>-->
<!--<script src="../assets/js/bootstrap.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
<!--<script>-->
<!--    $(document).ready(function() {-->
<!--        // Code to run when the document is ready-->
<!--        let itemData = [];-->
<!--        // Selecting elements using jQuery-->
<!--        var $itemCode = $('#itemCode');-->
<!--        var $itemName = $('#itemName');-->
<!--        var $itemQty = $('#itemQty');-->
<!--        var $itemPrice = $('#itemPrice');-->
<!--        var $tblItem = $('#tblItem');-->

<!--        // Event handling using jQuery-->
<!--        $('#btnItem').click(function() {-->
<!--            // Add item logic-->
<!--            var code = $itemCode.val();-->
<!--            var name = $itemName.val();-->
<!--            var qty = $itemQty.val();-->
<!--            var price = $itemPrice.val();-->

<!--            // Perform validation and add item to the table-->
<!--            let item = {-->
<!--                code: code,-->
<!--                name: name,-->
<!--                qty: qty,-->
<!--                price: price-->
<!--            };-->
<!--            itemData.push(item);-->
<!--            $("#txtItemCode").val("");-->
<!--            $("#itemName").val("");-->
<!--            $("#itemQty").val("");-->
<!--            $("#itemPrice").val("");-->
<!--            updateTable();-->
<!--            // Clear input fields after adding item-->
<!--            $itemCode.val('');-->
<!--            $itemName.val('');-->
<!--            $itemQty.val('');-->
<!--            $itemPrice.val('');-->
<!--        });-->

<!--        function updateTable() {-->
<!--            let tBody = $("#tblItem");-->
<!--            tBody.empty();-->
<!--            $.each(itemData, function (index, ) {-->
<!--                let row = $("<tr></tr>");-->
<!--                $("<td></td>").text(customer.id).appendTo(row);-->
<!--                $("<td></td>").text(customer.name).appendTo(row);-->
<!--                $("<td></td>").text(customer.address).appendTo(row);-->
<!--                $("<td></td>").text(customer.salary).appendTo(row);-->
<!--                row.appendTo(tBody);-->
<!--            });-->
<!--        }-->


<!--        $('#btnItemDelete').click(function() {-->
<!--            // Remove item logic-->

<!--        });-->

<!--        $('#btnItemUpdate').click(function() {-->
<!--            // Update item logic-->

<!--        });-->

<!--        $('#btn-clear').click(function() {-->
<!--            // Clear all items logic-->

<!--        });-->

<!--        // Other functions and event handlers can be added as needed-->

<!--    });-->

<!--</script>-->

<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Item Manage</title>
    <meta content="width=device-width initial-scale=1" name="viewport">
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/styles.css" rel="stylesheet">
    <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" rel="stylesheet">
    <style>
        ul > li {
            cursor: pointer;
        }
    </style>
</head>
<body>
<!--header-->
<header class="jumbotron bg-primary text-white p-3">
    <h1 class="position-absolute" id="nav"></h1>
    <ul class="list-group list-group-horizontal text-danger justify-content-end font-weight-bold">
        <li class="list-group-item bg-white" id="lnkHome"><a href="../index.html">Home</a></li>
        <li class="list-group-item bg-white" id="lnkCustomer"><a href="customer.html">Customer</a></li>
        <li class="list-group-item bg-danger text-white" id="lnkItem"><a class="text-white" href="item.html">Item</a></li>
        <li class="list-group-item bg-white" id="lnkOrders"><a href="purchase-order.html">Orders</a></li>
    </ul>
</header>

<!--item content-->
<main class="container-fluid" id="itemContent">
    <section class="row">
        <div class="col-12 col-lg-4">
            <h1>Item Form</h1>

            <div class="form-group">
                <label for="itemCode">Item Code</label>
                <input class="form-control" id="itemCode" type="text">
                <span class="control-error" id="lblCode"></span>
            </div>
            <div class="form-group">
                <label for="itemName">Item Name</label>
                <input class="form-control" id="itemName" type="text">
                <span class="control-error" id="lblname"></span>
            </div>
            <div class="form-group">
                <label for="itemQty">Item Qty</label>
                <input class="form-control" id="itemQty" type="text">
                <span class="control-error" id="lblqty"></span>
            </div>
            <div class="form-group">
                <label for="itemPrice">Unit Price</label>
                <input class="form-control" id="itemPrice" type="text">
                <span class="control-error" id="lblprice"></span>
            </div>
            <div class="btn-group">
                <button class="btn btn-primary" id="btnItem">Add Item</button>
                <button class="btn btn-danger" id="btnItemDelete">Remove</button>
                <button class="btn btn-warning" id="btnItemUpdate">Update</button>
                <button class="btn btn-success" id="btnGetAll">Get All</button>
                <button class="btn btn-danger" id="btn-clear">Clear All</button>
            </div>

        </div>
        <div class="col-12 col-lg-8 mt-3">
            <table class="table table-bordered table-hover" id="tableItem">
                <thead class="bg-danger text-white">
                <tr>
                    <th>Item Code</th>
                    <th>Item Name</th>
                    <th>Item Qty</th>
                    <th>Item Price</th>
                </tr>
                </thead>
                <tbody id="tblItem">

                </tbody>
            </table>
        </div>
    </section>

</main>
<script src="../assets/js/jquery-3.7.0.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function() {

        let itemData = [];

        var $itemCode = $('#itemCode');
        var $itemName = $('#itemName');
        var $itemQty = $('#itemQty');
        var $itemPrice = $('#itemPrice');
        var $tblItem = $('#tblItem');

        $('#btnItem').click(function() {
            // Add item logic
            var code = $itemCode.val();
            var name = $itemName.val();
            var qty = $itemQty.val();
            var price = $itemPrice.val();

            let item = {
                code: code,
                name: name,
                qty: qty,
                price: price
            };
            itemData.push(item);
            updateTable();


            $itemCode.val('');
            $itemName.val('');
            $itemQty.val('');
            $itemPrice.val('');

        });

        function updateTable() {
            let tBody = $tblItem;
            tBody.empty();
            $.each(itemData, function(index, item) {
                let row = $('<tr></tr>');
                $('<td></td>').text(item.code).appendTo(row);
                $('<td></td>').text(item.name).appendTo(row);
                $('<td></td>').text(item.qty).appendTo(row);
                $('<td></td>').text(item.price).appendTo(row);
                row.appendTo(tBody);
            });
            EventBinding();
        }


        $('#btnItemDelete').click(function() {

            var code = $itemCode.val();
            deleteItem(code);
            updateTable();

        });

        function deleteItem (code) {
            for (let i = 0; i < itemData.length; i++) {
                if (itemData[i].code == code){
                    itemData.splice(i, 1);
                    return true;
                }
            }

        }
        function updateItem (code) {
            for (let i = 0; i < itemData.length; i++) {
                if (itemData[i].code == code){
                    // itemData.splice(i, 1);
                    var updatedItem = {
                        code: $itemCode.val(),
                        name: $itemName.val(),
                        qty: $itemQty.val(),
                        price: $itemPrice.val()
                    };
                    itemData[i] = updatedItem;
                    updateTable();
                    return true;
                }
            }

        }


        // $('#btnItemUpdate').click(function() {
        //     console.log(alert("hi"))
        // });

        $('#btnItemUpdate').click(function() {
            // Update selected item in the table
            var code = $itemCode.val();
            updateItem(code);
        });

        $('#btn-clear').click(function() {
            updateTable();
            $itemCode.val('');
            $itemName.val('');
            $itemQty.val('');
            $itemPrice.val('');
        });
        $('#btnGetAll').click( function() {
            updateTable();
        });


        function EventBinding (){
            $('#tblItem>tr').click( function() {

                var selectedRow = $(this);
                var code = selectedRow.children().eq(0).text();
                var name = selectedRow.children().eq(1).text();
                var qty = selectedRow.children().eq(2).text();
                var price = selectedRow.children().eq(3).text();

                console.log(code);

                $itemCode.val(code);
                $itemName.val(name);
                $itemQty.val(qty);
                $itemPrice.val(price);
            });
        }
    });

</script>

</body>
</html>